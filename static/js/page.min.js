!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.page=e()}}(function(){var e,t,n;return function r(e,t,n){function i(o,u){if(!t[o]){if(!e[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){"use strict";function c(e,t){if("function"===typeof e){return c("*",e)}if("function"===typeof t){var n=new v(e);for(var r=1;r<arguments.length;++r){c.callbacks.push(n.middleware(arguments[r]))}}else if("string"===typeof e){c["string"===typeof t?"redirect":"show"](e,t)}else{c.start(e)}}function h(e){if(e.handled)return;var t;if(f){t=u+i.hash.replace("#!","")}else{t=i.pathname+i.search}if(t===e.canonicalPath)return;c.stop();e.handled=false;i.href=e.canonicalPath}function p(e){if(typeof e!=="string"){return e}return o?decodeURIComponent(e.replace(/\+/g," ")):e}function d(e,t){if("/"===e[0]&&0!==e.indexOf(u))e=u+(f?"#!":"")+e;var n=e.indexOf("?");this.canonicalPath=e;this.path=e.replace(u,"")||"/";if(f)this.path=this.path.replace("#!","")||"/";this.title=document.title;this.state=t||{};this.state.path=e;this.querystring=~n?p(e.slice(n+1)):"";this.pathname=p(~n?e.slice(0,n):e);this.params={};this.hash="";if(!f){if(!~this.path.indexOf("#"))return;var r=this.path.split("#");this.path=r[0];this.hash=p(r[1])||"";this.querystring=this.querystring.split("#")[0]}}function v(e,t){t=t||{};this.path=e==="*"?"(.*)":e;this.method="GET";this.regexp=r(this.path,this.keys=[],t.sensitive,t.strict)}function m(e){if(e.state){var t=e.state.path;c.replace(t,e.state)}else{c.show(i.pathname+i.hash)}}function g(e){if(1!==y(e))return;if(e.metaKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;var t=e.target;while(t&&"A"!==t.nodeName)t=t.parentNode;if(!t||"A"!==t.nodeName)return;if(t.getAttribute("download")||t.getAttribute("rel")==="external")return;var n=t.getAttribute("href");if(!f&&t.pathname===i.pathname&&(t.hash||"#"===n))return;if(n&&n.indexOf("mailto:")>-1)return;if(t.target)return;if(!b(t.href))return;var r=t.pathname+t.search+(t.hash||"");var s=r;r=r.replace(u,"");if(f)r=r.replace("#!","");if(u&&s===r)return;e.preventDefault();c.show(s)}function y(e){e=e||window.event;return null===e.which?e.button:e.which}function b(e){var t=i.protocol+"//"+i.hostname;if(i.port)t+=":"+i.port;return e&&0===e.indexOf(t)}var r=e("path-to-regexp");t.exports=c;var i="undefined"!==typeof window&&(window.history.location||window.location);var s=true;var o=true;var u="";var a;var f=false;var l;c.callbacks=[];c.exits=[];c.current="";c.len=0;c.base=function(e){if(0===arguments.length)return u;u=e};c.start=function(e){e=e||{};if(a)return;a=true;if(false===e.dispatch)s=false;if(false===e.decodeURLComponents)o=false;if(false!==e.popstate)window.addEventListener("popstate",m,false);if(false!==e.click)window.addEventListener("click",g,false);if(true===e.hashbang)f=true;if(!s)return;var t=f&&~i.hash.indexOf("#!")?i.hash.substr(2)+i.search:i.pathname+i.search+i.hash;c.replace(t,null,true,s)};c.stop=function(){if(!a)return;c.current="";c.len=0;a=false;window.removeEventListener("click",g,false);window.removeEventListener("popstate",m,false)};c.show=function(e,t,n){var r=new d(e,t);c.current=r.path;if(false!==n)c.dispatch(r);if(false!==r.handled)r.pushState();return r};c.back=function(e,t){if(c.len>0){history.back();c.len--}else if(e){setTimeout(function(){c.show(e,t)})}else{setTimeout(function(){c.show(u,t)})}};c.redirect=function(e,t){if("string"===typeof e&&"string"===typeof t){c(e,function(e){setTimeout(function(){c.replace(t)},0)})}if("string"===typeof e&&"undefined"===typeof t){setTimeout(function(){c.replace(e)},0)}};c.replace=function(e,t,n,r){var i=new d(e,t);c.current=i.path;i.init=n;i.save();if(false!==r)c.dispatch(i);return i};c.dispatch=function(e){function i(){var e=c.exits[r++];if(!e)return s();e(t,i)}function s(){var t=c.callbacks[n++];if(e.path!==c.current){e.handled=false;return}if(!t)return h(e);t(e,s)}var t=l,n=0,r=0;l=e;if(t){i()}else{s()}};c.exit=function(e,t){if(typeof e==="function"){return c.exit("*",e)}var n=new v(e);for(var r=1;r<arguments.length;++r){c.exits.push(n.middleware(arguments[r]))}};c.Context=d;d.prototype.pushState=function(){c.len++;history.pushState(this.state,this.title,f&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};d.prototype.save=function(){history.replaceState(this.state,this.title,f&&this.path!=="/"?"#!"+this.path:this.canonicalPath)};c.Route=v;v.prototype.middleware=function(e){var t=this;return function(n,r){if(t.match(n.path,n.params))return e(n,r);r()}};v.prototype.match=function(e,t){var n=this.keys,r=e.indexOf("?"),i=~r?e.slice(0,r):e,s=this.regexp.exec(decodeURIComponent(i));if(!s)return false;for(var o=1,u=s.length;o<u;++o){var a=n[o-1];var f=p(s[o]);if(f!==undefined||!hasOwnProperty.call(t,a.name)){t[a.name]=f}}return true};c.sameOrigin=b},{"path-to-regexp":2}],2:[function(e,t,n){function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function o(e,t){e.keys=t;return e}function u(e,t,n){if(!r(t)){n=t;t=null}t=t||[];n=n||{};var a=n.strict;var f=n.end!==false;var l=n.sensitive?"":"i";var c=0;if(e instanceof RegExp){var h=e.source.match(/\((?!\?)/g);if(h){for(var p=0;p<h.length;p++){t.push({name:p,delimiter:null,optional:false,repeat:false})}}return o(e,t)}if(r(e)){var d=[];for(var p=0;p<e.length;p++){d.push(u(e[p],t,n).source)}return o(new RegExp("(?:"+d.join("|")+")",l),t)}e=e.replace(i,function(e,n,r,i,o,u,a,f){if(n){return n}if(f){return"\\"+f}var l=a==="+"||a==="*";var h=a==="?"||a==="*";t.push({name:i||c++,delimiter:r||"/",optional:h,repeat:l});r=r?"\\"+r:"";o=s(o||u||"[^"+(r||"\\/")+"]+?");if(l){o=o+"(?:"+r+o+")*"}if(h){return"(?:"+r+"("+o+"))?"}return r+"("+o+")"});var v=e[e.length-1]==="/";if(!a){e=(v?e.slice(0,-2):e)+"(?:\\/(?=$))?"}if(!f){e+=a&&v?"":"(?=\\/|$)"}return o(new RegExp("^"+e+(f?"$":""),l),t)}var r=e("isarray");t.exports=u;var i=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g");},{isarray:3}],3:[function(e,t,n){t.exports=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"}},{}]},{},[1])(1)})
