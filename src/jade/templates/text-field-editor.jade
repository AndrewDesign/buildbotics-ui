script(type='text/ng-template', id='text-field-editor.html')
  bb-field-editor(v-model='field' on-save="onSave({value: value})"
    can-edit='canEdit')

    ng-form(role='form')

      .edit-row(ng-class='{edit: canEdit}' v-on="click:toggleEdit()")
        a.fa.fa-edit(tooltip='Edit {{displayName}}' v-show='canEdit')
        h3 {{DisplayName}}

      .input-group.input-group-sm(v-show='editing')
        input.form-control(type='text' v-model='field'
          v-on="keyup:save() | enter" placeholder='Enter {{displayName}}')
        .input-group-btn
          button.btn.btn-primary(v-on="click:save()") Save

      div.transclude(v-show='!editing && field') {{field}}

      .weak(v-show='!editing && !field') ({{DisplayName}} unset)
