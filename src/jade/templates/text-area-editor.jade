script(type='text/ng-template', id='text-area-editor.html')
  bb-field-editor(v-model='field' on-save="onSave({value: value})"
    can-edit='canEdit')

    ng-form(role='form')

      .edit-row(ng-class='{edit: canEdit}' v-show='!editing'
        v-on="click:edit()")
        a.fa.fa-edit(tooltip='Edit {{$parent.displayName}}' v-show='canEdit')
        h3 {{$parent.DisplayName}}

      .edit-row(v-show='editing')
        .btn-group
          button.btn(v-on="click:cancel()") Cancel
          button.btn.btn-primary(v-on="click:save()") Save
        h3 {{$parent.DisplayName}}

      markdowneditor(v-show='editing' v-model='field')
      markdown(v-show='!editing' v-model='field')
      .weak(v-show='!editing && !field') ({{$parent.DisplayName}} unset)
